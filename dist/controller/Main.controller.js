sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],function(e,o){"use strict";return e.extend("com.ns.dmsfioriapp.controller.Main",{onInit:function(){var e=this;var o="SPA_DMS/browser";$.ajax({url:o,type:"GET",dataType:"json",success:function(o){console.log(o);var t=new sap.ui.model.json.JSONModel({Array:o});e.getView().setModel(t,"dataModel")},error:function(e){console.log(e)}})},onSearch:function(e){var o=[];var t=e.getSource().getValue();if(t&&t.length>0){var i=new sap.ui.model.Filter("repositoryName",sap.ui.model.FilterOperator.Contains,t);var a=new sap.ui.model.Filter("repositoryCategory",sap.ui.model.FilterOperator.Contains,t);var r=new sap.ui.model.Filter("repositoryDescription",sap.ui.model.FilterOperator.Contains,t);var s=new sap.ui.model.Filter("repositoryId",sap.ui.model.FilterOperator.Contains,t);var n=new sap.ui.model.Filter("vendorName",sap.ui.model.FilterOperator.Contains,t);var l=new sap.ui.model.Filter({filters:[i,a,r,s,n],and:false});o.push(l)}var d=this.getView().byId("idTable");var p=d.getBinding("items");p.filter(o)},selectAll:function(e){var o=this.byId("idTable");var t=e.getParameter("selected");o.getItems().forEach(function(e){var o=e.getCells()[0];o.setSelected(t)})},onClick:function(e){var o=this;var t=this.getView().byId("idTable")._oItemNavigation.iFocusedIndex;var i=t-1;var a=this.getView().byId("idTable").getItems()[i].mAggregations.cells[4].mProperties.text;var r=sap.ui.core.UIComponent.getRouterFor(this);r.navTo("detail",{productPath:a})},onSelectionChange:function(e){var o=this},onCreate:function(){if(!this.Dialog1){this.Dialog1=sap.ui.xmlfragment("com.ns.dmsfioriapp.view.Create",this);this.getView().addDependent(this.Dialog1)}var e=sap.ui.getCore().byId("Inp1");e.setValue("");this.Dialog1.open()},SaveBtn:function(e){var o=this;var t=this.getView().getModel("dataModel");var i=sap.ui.getCore().byId("Inp1").getValue();var a={repository:{displayName:i,description:i,repositoryType:"internal",isVersionEnabled:true,isVirusScanEnabled:false,skipVirusScanForLargeFile:true,hashAlgorithms:"None"}};var r="SPA_DMS/rest/v2/repositories";$.ajax({type:"POST",url:r,data:JSON.stringify(a),contentType:"application/json",dataType:"json",success:function(e){console.log(e);sap.m.MessageBox.success("Repository Created Successfully");o.onRefresh()},error:function(e){console.log(e)}});this.Dialog1.close()},onClose:function(){this.Dialog1.close()},onRefresh:function(e){var o=this;var t="SPA_DMS/browser";$.ajax({url:t,type:"GET",dataType:"json",success:function(e){console.log(e);var t=new sap.ui.model.json.JSONModel({Array:e});o.getView().setModel(t,"dataModel")},error:function(e){console.log(e)}})}})});
//# sourceMappingURL=Main.controller.js.map